import { useNavigate } from "react-router-dom";

const sections = [
  {
    title: "×”×—×“×™×¨×” ×œ××¢×¨×›×ª",
    description: "×‘×©×œ×‘ ×–×”, ×ª×•×›× ×ª ×”×›×•×¤×¨ ×—×•×“×¨×ª ×œ××—×©×‘ ×”×§×•×¨×‘×Ÿ ×‘×××¦×¢×•×ª × ×§×•×“×•×ª ×ª×•×¨×¤×”, ×”×•×¨×“×•×ª ××–×•×™×¤×•×ª ××• ×©×™××•×© ×‘×¡×™×¡×××•×ª ×’× ×•×‘×•×ª.",
    risks: [
      "×’×™×©×” ××¨×—×•×§ ×“×¨×š RDP ×¤×ª×•×—",
      "×§×‘×¦×™ ×”×ª×§× ×” ×—×©×•×“×™× ×‘××™××™×™×œ×™×",
      "×ª×•×¡×¤×™× ×–×“×•× ×™×™× ×œ×“×¤×“×¤×Ÿ"
    ]
  },
  {
    title: "×”×“×‘×§×”",
    description: "×‘×©×œ×‘ ×–×” ×”×§×•×‘×¥ ×”× ×’×•×¢ ×¤×•×¢×œ ×•××ª×—×™×œ ×œ×©×›×¤×œ ××ª ×¢×¦××•, ×œ×§×‘×•×¢ ×”×ª××“×” ×•×œ×¢×§×•×£ ×”×’× ×•×ª ×‘×¡×™×¡×™×•×ª.",
    risks: [
      "×”×¨×¦×ª ×§×•×‘×¥ ×œ×œ× ××™××•×ª ×—×ª×™××”",
      "×’×™×©×” ×œ×”×¨×©××•×ª × ×™×”×•×œ",
      "×× ×˜×™ ×•×™×¨×•×¡ ×›×‘×•×™ ××• ××•×¡×¨"
    ]
  },
  {
    title: "×ª×§×™×¤×”",
    description: "×”×›×•×¤×¨ ××¦×¤×™×Ÿ ××ª ×”×§×‘×¦×™×, ××©×‘×™×ª ×ª×”×œ×™×›×™× ×§×¨×™×˜×™×™× ×•××£ ××•×—×§ ×’×™×‘×•×™×™×.",
    risks: [
      "×”×¦×¤× ×ª ×§×‘×¦×™ ××¢×¨×›×ª ×•×’×™×‘×•×™×™×",
      "×—×¡×™××ª ×’×™×©×” ×œ×›×œ×™× ×—×™×•× ×™×™×",
      "××—×™×§×ª Shadow Copies"
    ]
  },
  {
    title: "×“×¨×™×©×ª ×›×•×¤×¨",
    description: "×”×›×•×¤×¨ ××¦×™×’ ×“×¨×™×©×ª ×ª×©×œ×•× (×‘×“×¨×š ×›×œ×œ ×‘×§×¨×™×¤×˜×•) ×œ×©×—×¨×•×¨ ×”×§×‘×¦×™×.",
    risks: [
      "×”×¤×¡×“ ××™×“×¢ ×¨×’×™×©",
      "×”×“×œ×¤×ª ××™×“×¢ ×× ×œ× ××©×•×œ××ª ×“×¨×™×©×”",
      "×—×•×¡×¨ ×•×“××•×ª ×œ×’×‘×™ ×©×—×–×•×¨ ×”×§×‘×¦×™×"
    ]
  }
];

const TheoryStage = ({ stageIndex = 0 }) => {
  const navigate = useNavigate();
  const section = sections?.[stageIndex];

  if (!section) return <div className="text-white p-10">×©×’×™××”: ×©×œ×‘ ×œ× ×§×™×™×</div>;

  const { title, description, risks } = section;

  return (
    <div className="bg-blue-950 text-blue-100 min-h-screen px-10 py-12 rtl">
      <div className="max-w-4xl mx-auto space-y-8">
        <h1 className="text-3xl font-bold text-blue-300">{title}</h1>
        <p className="text-lg">{description}</p>

        <div>
          <h2 className="text-xl font-bold text-blue-200 mb-2">×¡×™×›×•× ×™× ×¢×™×§×¨×™×™×:</h2>
          <ul className="list-disc pr-6 space-y-1">
            {risks.map((risk, i) => (
              <li key={i}>{risk}</li>
            ))}
          </ul>
        </div>

        {/* ×ª×•×›×Ÿ ×“×™× ××™ ×œ×›×œ ×©×œ×‘ */}
        {stageIndex === 0 && (
          <ContentBox
            title="ğŸ§  ×©×™×˜×•×ª ×—×“×™×¨×” × ×¤×•×¦×•×ª ×©×›×“××™ ×œ×–×”×•×ª"
            tips={[
              "×¤×™×©×™× ×’ ×‘××™××™×™×œ: ×©×œ×™×—×ª ×§×•×‘×¥ ZIP ××• DOC ×¢× ×§×•×“ ×–×“×•× ×™",
              "RDP ×¤×ª×•×—: ×¤×•×¨×˜×™× ×¤×ª×•×—×™× ×œ×œ× ××™××•×ª ×—×–×§",
              "× ×™×¦×•×œ ×¤×¨×¦×•×ª (Exploits): ×©×™××•×© ×‘Ö¾SMB, EternalBlue ×•×›×•×³",
              "×”×ª×—×–×•×ª ×œ×¢×“×›×•×Ÿ: ×›××• NotPetya ×©×–×™×™×£ ×¢×“×›×•×Ÿ ×ª×•×›× ×”",
              "×××§×¨×• ×‘Ö¾Word: ×¤×ª×™×—×ª ××¡××š ×©××¤×¢×™×œ ×¡×§×¨×™×¤×˜",
              "USB × ×’×•×¢: ×”×“×‘×§×” ×“×¨×š ×”×ª×§× ×™× ×¤×™×–×™×™×"
            ]}
            hint="ğŸ”’ ×‘×©×œ×‘ ×”××¢×©×™ ×ª×¦×˜×¨×š ×œ×–×”×•×ª × ×™×¡×™×•× ×•×ª ×›××œ×” ×•×œ×—×¡×•× ××•×ª×."
          />
        )}
        {stageIndex === 1 && (
          <ContentBox
            title="ğŸ§¬ ××™×š ×›×•×¤×¨×” ×©×•×¨×“×ª ×‘××¢×¨×›×ª"
            tips={[
              "âœ… ×™×¦×™×¨×ª ××©×™××•×ª ××ª×•×–×× ×•×ª (Scheduled Tasks)",
              "âœ… ×”×•×¡×¤×ª ×§×•×‘×¥ ×œÖ¾Startup ××• Registry",
              "âœ… ×”×ª×—×–×•×ª ×œ×ª×”×œ×™×›×™× ×œ×’×™×˜×™××™×™× (svchost ×•×›×•×³)",
              "âœ… ×¢×§×™×¤×ª ×× ×˜×™ ×•×™×¨×•×¡ ×‘×××¦×¢×•×ª obfuscation",
              "âœ… ×©×›×¤×•×œ ×œ×§×‘×¦×™× ××•×¡×ª×¨×™× ××• ××§×•××™×™×"
            ]}
            hint="ğŸ”’ ×ª×™×“×¨×© ×œ×–×”×•×ª ×ª×”×œ×™×š ×—×©×•×“ ××• ×§×•×‘×¥ ×©×× ×¡×” ×œ×”×ª××™×“."
          />
        )}
        {stageIndex === 2 && (
          <ContentBox
            title="ğŸ§¨ ×©×œ×‘ ×”×”×¦×¤× ×” ×•×”×¤×’×™×¢×”"
            tips={[
              "âœ… ×¡×¨×™×§×ª ×ª×™×§×™×•×ª ×œ×¤×™ ×¡×™×•××•×ª × ×¤×•×¦×•×ª",
              "âœ… ×”×¦×¤× ×” ×‘×××¦×¢×•×ª AES/RSA",
              "âœ… ××—×™×§×ª ×§×‘×¦×™ ×’×™×‘×•×™ (`.bak`, Shadow Copies)",
              "âœ… ×¢×¦×™×¨×ª ×©×™×¨×•×ª×™× ×—×©×•×‘×™× (DB, ×× ×˜×™ ×•×™×¨×•×¡)"
            ]}
            hint="ğŸ”’ ×›×›×œ ×©×ª×–×”×” ××•×§×“× ×™×•×ª×¨, ×ª×•×›×œ ×œ×”×¦×™×œ ×™×•×ª×¨ ××™×“×¢."
          />
        )}
        {stageIndex === 3 && (
          <ContentBox
            title="ğŸ’¸ ×“×¨×™×©×ª ×›×•×¤×¨ ×•×”×¤×¢×œ×ª ×œ×—×¥"
            tips={[
              "âœ… ×§×•×‘×¥ README ×‘×›×œ ×ª×™×§×™×™×”",
              "âœ… ××¡×š × ×¢×™×œ×” ×©××•× ×¢ ×’×™×©×”",
              "âœ… ×ª×§×©×•×¨×ª ×¢× ×”×ª×•×§×£ ×“×¨×š Tor",
              "âœ… ×”×“×œ×¤×ª ××™×“×¢ ×× ×œ× ×©×•×œ×"
            ]}
            hint="ğŸ”’ ×’× ×× ××©×œ××™× â€“ ××™×Ÿ ×”×‘×˜×—×” ×œ×©×—×–×•×¨. ×”×’× ×” ××¨××© ×”×™× ×”××¤×ª×—."
          />
        )}

        <button
          onClick={() => navigate("/theory")}
          className="mt-8 bg-blue-700 hover:bg-blue-600 text-white px-6 py-2 rounded"
        >
          â¬…ï¸ ×—×–×¨×” ×œ×©×œ×‘×™×
        </button>
      </div>
    </div>
  );
};

const ContentBox = ({ title, tips = [], hint }) => (
  <div className="bg-blue-800 p-4 rounded-lg shadow space-y-3">
    <h3 className="text-xl font-semibold">{title}</h3>
    <ul className="list-disc pr-6 space-y-1">
      {tips.map((tip, i) => (
        <li key={i}>{tip}</li>
      ))}
    </ul>
    <p className="italic text-sm text-blue-200">{hint}</p>
  </div>
);

export default TheoryStage;
